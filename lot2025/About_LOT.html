<!doctype html>
<html lang="th" class="no-js">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>เกี่ยวกับการแข่งขัน (LOT) | LOT2025</title>
    <meta name="description" content="เกี่ยวกับการแข่งขันภาษาศาสตร์โอลิมปิกระดับชาติ (LOT) Thailand Linguistics Olympiad" />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="เกี่ยวกับการแข่งขัน (LOT) | LOT2025" />
    <meta property="og:description" content="เกี่ยวกับการแข่งขันภาษาศาสตร์โอลิมปิกระดับชาติ (LOT)" />
    <meta property="og:image" content="assets/images/og-image.png" />
    <meta property="og:image:alt" content="LOT 2025" />

    <link rel="icon" href="assets/images/favicon.ico" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Bai+Jamjuree:wght@400;500;600;700&display=swap" rel="stylesheet" />

    <!-- Design system (re-use) -->
    <link rel="stylesheet" href="assets/css/styles.css" />

    <!-- Page-only styles -->
    <style>
      /* Sticky footer for this page */
      html, body { height: 100%; }
      body.page-flex { min-height: 100dvh; display: flex; flex-direction: column; }
      main { flex: 1 0 auto; }
      .site-footer { margin-top: auto; }

      /* Force sticky navbar on this page (in case DS is overridden somewhere) */
      .site-header {
        position: sticky;
        top: 0;
        z-index: 9999;
        background: var(--color-nav-bg, #fafafa);
      }
      /* Smooth anchor offset under sticky header */
      :root { --crumb-sep: rgba(44,44,44,.35); --header-height: 76px; }
      .page-head, [id] { scroll-margin-top: var(--header-height, 76px); }

      /* Breadcrumb + header */
      .page-head { padding-block: clamp(24px, 4.6vw, 40px) clamp(8px, 2.2vw, 16px); }
      .breadcrumb {
        margin: 0 0 clamp(10px, 2vw, 14px);
        color: var(--color-text);
        font-size: clamp(0.95rem, 0.9rem + 0.2vw, 1.05rem);
      }
      .breadcrumb ol { list-style: none; margin: 0; padding: 0; display: flex; align-items: baseline; flex-wrap: wrap; }
      .breadcrumb li { display: inline-flex; align-items: baseline; }
      .breadcrumb li + li::before { content: "/"; color: var(--crumb-sep); margin: 0 8px; }
      .breadcrumb a { color: #2c2c2c; text-decoration: none; }
      .breadcrumb a:hover, .breadcrumb a:focus-visible { color: #4c4c9f; }
      .page-title { margin: 0; }

      /* ความเป็นมา (3 แผง) */
      .origin { padding-block: clamp(18px, 3.6vw, 28px) clamp(36px, 6vw, 56px); }
      .origin-list { display: grid; row-gap: clamp(16px, 2.8vw, 24px); margin: clamp(12px, 2.4vw, 18px) 0 0; padding: 0; list-style: none; }
      .story-card { background: #d9d9f0; border-radius: 16px; box-shadow: var(--shadow-card); padding: 0; overflow: hidden; }
      .story-grid { display: grid; grid-template-columns: 230px auto; column-gap: clamp(16px, 2vw, 20px); }
      .story-label {
        background: #4c4c9f; color: #fff; display: grid; place-items: center;
        padding: clamp(18px, 2.6vw, 24px); font-weight: 700;
        font-size: clamp(1.05rem, 0.95rem + 0.4vw, 1.25rem); letter-spacing: 0.2px; text-align: center;
      }
      .story-body {
        padding: clamp(18px, 2.6vw, 24px) clamp(18px, 2.6vw, 24px) clamp(18px, 2.6vw, 24px) 0;
        color: #2c2c2c; font-size: clamp(1rem, 0.98rem + 0.2vw, 1.08rem); line-height: 1.75;
      }
      @media (max-width: 900px) {
        .story-grid { grid-template-columns: 1fr; }
        .story-label { border-radius: 0 0 12px 12px; place-items: center; text-align: center; }
        .story-body { padding-left: clamp(18px, 2.6vw, 24px); }
      }

      /* ธรรมนูญการแข่งขัน */
      .charter { padding-block: clamp(18px, 4vw, 32px) clamp(18px, 4vw, 32px); }
      .charter-head { display: flex; align-items: center; gap: 14px; flex-wrap: wrap; }
      .charter-title { margin: 0; }
      .charter-btn { white-space: nowrap; } /* uses .news-btn style from DS */

      /* ตราสัญลักษณ์ของการแข่งขัน */
      .emblem { padding-block: clamp(24px, 5.6vw, 48px) clamp(48px, 7vw, 72px); }
      .emblem-title { margin: 0 0 clamp(14px, 2.4vw, 18px); }
      .emblem-grid {
        display: grid;
        grid-template-columns: 360px 1fr;
        column-gap: clamp(24px, 4vw, 40px);
        align-items: start;
      }
      .emblem-art {
        position: relative; width: 100%; display: grid; place-items: center; padding: clamp(12px, 2vw, 18px);
      }
      .emblem-circle {
        width: min(320px, 80%); aspect-ratio: 1/1; border-radius: 50%;
        background: #ffffff; border: 2px solid #e3e5ea; box-shadow: var(--shadow-card);
        display: grid; place-items: center; overflow: hidden;
      }
      .emblem-circle img { width: 70%; height: auto; }
      .bubble { position: absolute; border-radius: 50%; background: #b3eff7; opacity: .95; }
      .bubble.b1 { width: 60px; height: 60px; top: 36px; right: 32px; }
      .bubble.b2 { width: 18px; height: 18px; left: 32px; bottom: 62px; background:#b3eff7; opacity:.6; }
      .bubble.b3 { width: 24px; height: 24px; left: 66px; bottom: 28px; background:#d9d9f0; }
      .emblem-body { color: #2c2c2c; font-size: clamp(1rem, 0.98rem + 0.2vw, 1.08rem); line-height: 1.75; }
      .emblem-body p { margin: 0 0 12px; }

      /* Center only the emblem-art vertically against emblem-body in desktop */
      @media (min-width: 1025px) {
        .emblem-art { align-self: center; }   /* center the left circle column */
        .emblem-grid { align-items: stretch; }/* keep text natural (top) alignment */
      }

      @media (max-width: 1024px) {
        .emblem-grid { grid-template-columns: 1fr; row-gap: 18px; }
        .emblem-art { order: 1; }
        .emblem-body { order: 2; }
        .emblem-circle { width: min(340px, 88%); }
      }

      /* การแข่งขันที่ผ่านมา + กราฟ */
      .history { padding-block: clamp(12px, 4vw, 36px) clamp(44px, 7vw, 84px); }
      .history-title { margin: 0 0 clamp(16px, 2.6vw, 22px); }

      /* LOT summary cards */
      .stat-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: clamp(14px, 2vw, 20px);
        margin-bottom: clamp(32px, 6vw, 64px);
      }
      .stat-card {
        background: #d9d9f0;
        border-radius: 16px;
        box-shadow: var(--shadow-card);
        padding: 16px 18px;
      }
      .stat-title { margin: 0 0 6px; font-weight: 700; color: #2c2c2c; }
      .stat-row { margin: 6px 0; color: #2c2c2c; }
      .stat-sep { height: 1px; background: rgba(0,0,0,.12); margin: 8px 0; }

      /* ==== Chart card centered content ==== */
      .chart-wrap { width: 100%; display: grid; place-items: center; }
      .chart-card {
        width: min(980px, 100%);
        background: #fff;
        border-radius: 16px;
        box-shadow: var(--shadow-card);
        padding: clamp(14px, 2vw, 18px);
        display: grid;
        justify-items: center;
        gap: 8px;
      }
      .chart-title { text-align: center; margin: 4px 0 10px; font-weight: 700; }
      .chart-legend { display: flex; justify-content: center; gap: 22px; align-items: center; color: #2c2c2c; margin-bottom: 8px; flex-wrap: wrap; }
      .legend-item { display: inline-flex; align-items: center; gap: 8px; }
      .legend-swatch { width: 14px; height: 14px; border-radius: 50%; display: inline-block; }
      .swatch-takers { background: #c3b1e1; }
      .swatch-applicants { background: #4c4c9f; }

      .chart {
        width: min(920px, 100%);
        height: clamp(320px, 52vw, 480px);
        display: block;
        margin-inline: auto;
      }
      .axis line, .axis path { stroke: #b9bcc2; stroke-width: 1; }
      .y-grid line { stroke: rgba(0,0,0,.08); }
      .bar-app { fill: #4c4c9f; }
      .bar-take { fill: #c3b1e1; }
      .x-label { fill: #6e7075; font-size: 12px; text-anchor: middle; }
      .y-label { fill: #6e7075; font-size: 12px; text-anchor: end; }
    </style>
  </head>
  <body class="page-flex">
    <a class="skip-link" href="#main">ข้ามไปยังเนื้อหา</a>

    <!-- Navbar -->
    <header class="site-header" role="banner">
      <div class="container nav-container">
        <a href="index.html" class="brand" aria-label="ไปยังหน้าแรก">
          <img class="brand-logo" src="assets/images/LOT_LOGO_Grey_Resize.png" alt="LOT ภาษาศาสตร์โอลิมปิก" width="120" height="48" />
        </a>
        <button class="nav-toggle" aria-controls="site-nav" aria-expanded="false" aria-label="เปิดเมนู">
          <span class="bar"></span><span class="bar"></span><span class="bar"></span>
        </button>
        <nav id="site-nav" class="site-nav" aria-label="เมนูหลัก">
          <ul class="nav-list">
            <li><a href="index.html">หน้าหลัก</a></li>
            <li><a href="Announcement.html">ประกาศ</a></li>
            <li><a href="Registration.html">การสมัคร</a></li>
            <li><a aria-current="page" href="About_LOT.html">เกี่ยวกับการแข่งขัน</a></li>
            <li><a href="Exam.html">คลังข้อสอบ</a></li>
            <li><a href="Contact.html">ติดต่อ</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <main id="main">
      <!-- Breadcrumb + Title -->
      <section class="page-head">
        <div class="container">
          <nav class="breadcrumb" aria-label="Breadcrumb">
            <ol>
              <li><a href="index.html">หน้าหลัก</a></li>
              <li aria-current="page">เกี่ยวกับการแข่งขัน</li>
            </ol>
          </nav>
          <h1 class="announce-head page-title">ความเป็นมา</h1>
        </div>
      </section>

      <!-- ความเป็นมา: 3 แผง -->
      <section class="origin">
        <div class="container">
          <ul class="origin-list">
            <!-- จุดริเริ่ม -->
            <li class="story-card">
              <div class="story-grid">
                <div class="story-label">จุดริเริ่ม</div>
                <div class="story-body">
                  การแข่งขันภาษาศาสตร์โอลิมปิกระดับชาติในประเทศไทย เพื่อคัดเลือกผู้แทนไปแข่งขันภาษาศาสตร์โอลิมปิกระหว่างประเทศ
                  (International Linguistics Olympiad หรือ IOL) จัดขึ้นเป็นครั้งแรกเมื่อปี พ.ศ. 2564 โดยภาควิชาภาษาศาสตร์
                  คณะอักษรศาสตร์ จุฬาลงกรณ์มหาวิทยาลัย เป็นผู้ริเริ่ม และได้รับความร่วมมือเป็นอย่างดีจากมหาวิทยาลัยหลายแห่ง ได้แก่
                  คณะมนุษยศาสตร์ มหาวิทยาลัยเกษตรศาสตร์ คณะศิลปศาสตร์ มหาวิทยาลัยธรรมศาสตร์ คณะมนุษยศาสตร์ มหาวิทยาลัยเชียงใหม่
                  คณะมนุษยศาสตร์และสังคมศาสตร์ มหาวิทยาลัยมหาสารคาม คณะมนุษยศาสตร์ มหาวิทยาลัยสงขลานครินทร์ วิทยาเขตปัตตานี
                  และสถาบันวิจัยภาษาและวัฒนธรรมเอเชีย มหาวิทยาลัยมหิดล
                </div>
              </div>
            </li>

            <!-- การสนับสนุน -->
            <li class="story-card">
              <div class="story-grid">
                <div class="story-label">การสนับสนุน</div>
                <div class="story-body">
                  ประเทศไทยได้ส่งผู้แทนไปร่วมการแข่งขันภาษาศาสตร์โอลิมปิกระหว่างประเทศเป็นครั้งแรกเมื่อปี พ.ศ. 2565
                  โดยได้รับการสนับสนุนจากมูลนิธิส่งเสริมโอลิมปิกวิชาการ และพัฒนามาตรฐานวิทยาศาสตร์ศึกษา
                  ในพระอุปถัมภ์สมเด็จพระเจ้าพี่นางเธอ เจ้าฟ้ากัลยาณิวัฒนา กรมหลวงนราธิวาสราชนครินทร์ (สอวน.)
                  โดยมีสมเด็จพระกนิษฐาธิราชเจ้า กรมสมเด็จพระเทพรัตนราชสุดาฯ สยามบรมราชกุมารี ทรงเป็นประธานมูลนิธิ
                </div>
              </div>
            </li>

            <!-- ความสำคัญ -->
            <li class="story-card">
              <div class="story-grid">
                <div class="story-label">ความสำคัญ</div>
                <div class="story-body">
                  การแข่งขันเพื่อคัดเลือกผู้แทนประเทศไทยไปแข่งขันภาษาศาสตร์โอลิมปิกระหว่างประเทศได้มีส่วนสำคัญในการสร้างความรู้
                  ความเข้าใจเกี่ยวกับวิชาภาษาศาสตร์ให้เป็นที่รู้จักในวงกว้าง และส่งเสริมการพัฒนาศักยภาพทางภาษาและภาษาศาสตร์
                  ให้แก่นักเรียนระดับชั้นมัธยมศึกษาตอนปลาย ดังที่องค์ประธานมูลนิธิ สอวน. ทรงเห็นความสำคัญในการส่งเสริมให้นักเรียน
                  ระดับมัธยมศึกษาตอนปลายทั่วประเทศที่มีความสามารถทางวิชาการได้มีโอกาสรับการพัฒนาศักยภาพตามความถนัดทั้งในด้านทฤษฎี
                  และทักษะด้านปฏิบัติการ ให้สามารถวิเคราะห์ สังเคราะห์ และแก้ไขปัญหาที่ซับซ้อนได้ ส่งผลให้การแข่งขันได้รับความสนใจ
                  จากนักเรียนระดับมัธยมศึกษาตอนปลายทั่วประเทศเพิ่มขึ้นทุกปี และผู้แทนประเทศไทยได้รับรางวัลในการแข่งขันภาษาศาสตร์
                  โอลิมปิกระหว่างประเทศอย่างต่อเนื่อง
                </div>
              </div>
            </li>
          </ul>
        </div>
      </section>

      <!-- ธรรมนูญการแข่งขัน -->
      <section class="charter">
        <div class="container">
          <div class="charter-head">
            <h2 class="announce-head charter-title">ธรรมนูญการแข่งขัน</h2>
            <a class="news-btn charter-btn" href="https://www.posn.or.th/projects/academic-olympiad/ol/about/" aria-label="คลิกเพื่ออ่านเพิ่มเติม ธรรมนูญการแข่งขัน">
              คลิกเพื่ออ่านเพิ่มเติม
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M5 12h14m0 0-6-6m6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </a>
          </div>
        </div>
      </section>

      <!-- ตราสัญลักษณ์ของการแข่งขัน -->
      <section class="emblem">
        <div class="container">
          <h2 class="announce-head emblem-title">ตราสัญลักษณ์ของการแข่งขัน</h2>

          <div class="emblem-grid">
            <div class="emblem-art" aria-hidden="true">
              <span class="bubble b1"></span>
              <span class="bubble b2"></span>
              <span class="bubble b3"></span>
              <div class="emblem-circle">
                <img src="assets/images/LOT_LOGO_Grey_Full.png" alt="LOT Logo" />
              </div>
            </div>

            <div class="emblem-body">
              <p>
                ตราสัญลักษณ์ประจำการแข่งขันภาษาศาสตร์โอลิมปิกระดับชาติมีองค์ประกอบหลัก 3 องค์ประกอบ 
                ได้แก่ ภาพนามธรรมของศิลาโรเซตตา (Rosetta Stone) อักษรย่อภาษาอังกฤษ LOT และอักษรย่อภาษาไทย ภอท.
              </p>
              <p>
                ศิลาโรเซตตาจารขึ้นโดยใช้อักขระสามชนิด คือใช้อักขระไฮโรกลิฟิก (Hieroglyphic) และอักขระดิมอติก (Demotic) 
                เพื่อจารภาษาอียิปต์ และใช้อักขระกรีกเพื่อจารภาษากรีก เมื่อมีการค้นพบศิลาโรเซตตานั้น ยังไม่มีผู้ใดอ่านอักขระไฮโรกลิฟิกได้ 
                แต่เพราะการจารเนื้อความเดียวกันในสองภาษาด้วยอักขระสามชนิดจึงทำให้สามารถถอดรหัสอักขระไฮโรกลิฟิกได้ 
                การแข่งขันภาษาศาสตร์โอลิมปิกมักมีโจทย์ปัญหาประเภทศิลาโรเซตตามาให้ผู้เข้าแข่งขันแก้อยู่เสมอ 
                โจทย์ปัญหาประเภทศิลาโรเซตตาคือโจทย์ปัญหาสองภาษา ภาษาหนึ่งเป็นภาษา (หรือระบบสัญลักษณ์ที่คล้ายภาษา) 
                ที่ผู้แก้โจทย์ไม่ทราบ และอีกภาษาหนึ่งคือภาษาแม่ของผู้แก้โจทย์ ("Solverese") โจทย์ประเภทนี้อาจให้ผู้แก้โจทย์
                แปลภาษาหนึ่งเป็นอีกภาษาหนึ่ง หรือแก้โจทย์อื่น ๆ เกี่ยวกับภาษาที่ผู้แก้โจทย์ไม่ทราบ
              </p>
              <p>
                ในส่วนของตัวย่อภาษาอังกฤษของการแข่งขัน แม้ว่าชื่อการแข่งขันภาษาอังกฤษจะเป็น Thailand Linguistics Olympiad 
                แต่การย่อชื่อการแข่งขันภาษาอังกฤษด้วย LOT นั้นสื่อถึงการลำดับคำตามภาษาไทย สังเกตได้จากตราสัญลักษณ์ที่วาง 
                L O และ T อยู่ในตำแหน่งเดียวกับ ภ อ และ ท ตามลำดับนอกจากนี้ที่ตัวอักษรย่อภาษาไทย ภอท. ยังมีสัญลักษณ์ที่เป็นเส้นโค้ง
                และเส้นตรงกำกับ สัญลักษณ์ดังกล่าวสะท้อนภาพอวัยวะที่ใช้ในการผลิตเสียงเชิงสัทศาสตร์ของแต่ละอักษร 
                ซึ่งได้รับแรงบันดาลใจจากการออกแบบสัญลักษณ์แทนเสียงที่เรียกว่า วจนะที่มองเห็น (visible speech) 
                สัญลักษณ์ทั้งสามที่กำกับอักษรย่อภาษาไทย ภอท. แสดงอวัยวะที่ใช้ในการผลิตเสียงที่แตกต่างกันคือ 
                <ภ> /pʰ/ ริมฝีปาก <อ> /ʔ/ เส้นเสียง และ <ท> /tʰ/ ปลายลิ้นที่ไปแตะปุ่มเหงือก ตามลำดับ
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- การแข่งขันที่ผ่านมา + แผนภูมิ -->
      <section class="history">
        <div class="container">
          <h2 class="announce-head history-title">การแข่งขันที่ผ่านมา</h2>

          <!-- Summary cards -->
          <div class="stat-grid" id="lot-stat-grid" aria-label="สรุปจำนวนผู้สมัครและผู้เข้าสอบรายปี">
            <article class="stat-card" data-fallback>
              <h3 class="stat-title">LOT 5 (2568)</h3>
              <p class="stat-row">ผู้สมัคร 2,737 คน</p>
              <div class="stat-sep"></div>
              <p class="stat-row">ผู้เข้าสอบ 2,039 คน</p>
            </article>
            <article class="stat-card" data-fallback>
              <h3 class="stat-title">LOT 4 (2567)</h3>
              <p class="stat-row">ผู้สมัคร 1,372 คน</p>
              <div class="stat-sep"></div>
              <p class="stat-row">ผู้เข้าสอบ 1,068 คน</p>
            </article>
            <article class="stat-card" data-fallback>
              <h3 class="stat-title">LOT 3 (2566)</h3>
              <p class="stat-row">ผู้สมัคร 785 คน</p>
              <div class="stat-sep"></div>
              <p class="stat-row">ผู้เข้าสอบ 682 คน</p>
            </article>
            <article class="stat-card" data-fallback>
              <h3 class="stat-title">LOT 2 (2565)</h3>
              <p class="stat-row">ผู้สมัคร 504 คน</p>
              <div class="stat-sep"></div>
              <p class="stat-row">ผู้เข้าสอบ 352 คน</p>
            </article>
            <article class="stat-card" data-fallback>
              <h3 class="stat-title">LOT 1 (2564)</h3>
              <p class="stat-row">ผู้สมัคร 540 คน</p>
              <div class="stat-sep"></div>
              <p class="stat-row">ผู้เข้าสอบรอบที่ 1 302 คน</p>
            </article>
          </div>

          <!-- Chart -->
          <div class="chart-wrap">
            <div class="chart-card">
              <h3 class="chart-title">สถิติการแข่งขันที่ผ่านมา</h3>
              <div class="chart-legend" aria-hidden="true">
                <span class="legend-item"><i class="legend-swatch swatch-takers"></i> ผู้เข้าสอบ</span>
                <span class="legend-item"><i class="legend-swatch swatch-applicants"></i> ผู้สมัครสอบ</span>
              </div>
              <svg id="lot-chart" class="chart" viewBox="0 0 980 420" role="img" aria-label="แผนภูมิแท่งแสดงจำนวนผู้สมัครและผู้เข้าสอบในแต่ละปี"></svg>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="site-footer" role="contentinfo">
      <div class="container footer-grid">
        <div class="footer-left">
          <div class="footer-brand">
            <img class="footer-logo" src="assets/images/LOT_LOGO_Grey_Full.png" alt="LOT โลโก้" width="180" height="180" loading="lazy" />
            <div class="footer-brand-text">
              <p class="footer-name">Thailand Linguistics Olympiad (LOT)</p>
              <p class="footer-tagline">การแข่งขันภาษาศาสตร์โอลิมปิกระดับชาติ</p>
            </div>
          </div>
        </div>
        <div class="footer-right">
          <div class="footer-block">
            <h3 class="footer-heading">การแข่งขันภาษาศาสตร์โอลิมปิกระดับชาติ</h3>
            <p class="footer-item">
              <span class="icon-mail" aria-hidden="true"></span>
              อีเมล : <a href="mailto:ling.olympiad.thailand@gmail.com">ling.olympiad.thailand@gmail.com</a>
            </p>
          </div>
          <div class="footer-block">
            <h3 class="footer-heading">มูลนิธิ สอวน.</h3>
            <p class="footer-item">
              <span class="icon-mail" aria-hidden="true"></span>
              อีเมล : <a href="mailto:ac.olympiads@posn.or.th">ac.olympiads@posn.or.th</a>
            </p>
            <br>
            <p class="footer-item">
              <span class="icon-web" aria-hidden="true"></span>
              เว็บไซต์ : <a href="https://www.posn.or.th" target="_blank" rel="noopener">www.posn.or.th</a>
            </p>
          </div>
        </div>
      </div>
    </footer>

    <!-- Global behavior -->
    <script src="assets/js/main.js"></script>

    <!-- Page-only JS: LOT cards + centered SVG chart -->
    <script>
      // Data
      const lotStats = [
        { lot: "LOT 1", year: 2564, applicants: 540, takers: 302 },
        { lot: "LOT 2", year: 2565, applicants: 504, takers: 352 },
        { lot: "LOT 3", year: 2566, applicants: 785, takers: 682 },
        { lot: "LOT 4", year: 2567, applicants: 1372, takers: 1068 },
        { lot: "LOT 5", year: 2568, applicants: 2737, takers: 2039 },
      ];

      // Render cards
      (function renderCards() {
        const grid = document.getElementById("lot-stat-grid");
        if (!grid) return;
        grid.querySelectorAll("[data-fallback]").forEach(el => el.remove());
        for (const item of lotStats.slice().reverse()) {
          const art = document.createElement("article");
          art.className = "stat-card";
          art.innerHTML = `
            <h3 class="stat-title">${item.lot} (${item.year})</h3>
            <p class="stat-row">ผู้สมัคร ${item.applicants.toLocaleString("th-TH")} คน</p>
            <div class="stat-sep"></div>
            <p class="stat-row">ผู้เข้าสอบ ${item.takers.toLocaleString("th-TH")} คน</p>
          `;
          grid.appendChild(art);
        }
      })();

      // Centered SVG chart (centers whole drawing including y-labels)
      (function renderChart() {
        const svg = document.getElementById("lot-chart");
        if (!svg) return;

        function niceMax(n) {
          const step = 100;
          return Math.ceil(n / step) * step;
        }

        function draw() {
          const W = svg.clientWidth || 980;
          const H = svg.clientHeight || 420;

          while (svg.firstChild) svg.removeChild(svg.firstChild);

          const margin = { top: 20, bottom: 64 };
          const padX = 54; // symmetric inner padding
          const innerW = W - padX * 2;
          const innerH = H - margin.top - margin.bottom;

          const g = document.createElementNS("http://www.w3.org/2000/svg", "g");
          g.setAttribute("transform", `translate(0,${margin.top})`);
          svg.appendChild(g);

          const maxVal = niceMax(Math.max(...lotStats.map(d => Math.max(d.applicants, d.takers))) * 1.05);
          const y = (v) => innerH - (v / maxVal) * innerH;

          const n = lotStats.length;
          const band = innerW / n;
          const groupPad = Math.min(24, band * 0.2);
          const barW = Math.max(14, (band - groupPad) / 2 - 6);

          const ticks = 5;
          const tickStep = maxVal / ticks;
          for (let i = 0; i <= ticks; i++) {
            const val = i * tickStep;
            const yPos = y(val);
            const gl = document.createElementNS("http://www.w3.org/2000/svg", "line");
            gl.setAttribute("x1", padX);
            gl.setAttribute("x2", padX + innerW);
            gl.setAttribute("y1", yPos);
            gl.setAttribute("y2", yPos);
            gl.setAttribute("class", "y-grid");
            g.appendChild(gl);

            const tl = document.createElementNS("http://www.w3.org/2000/svg", "text");
            tl.setAttribute("x", padX - 8);
            tl.setAttribute("y", yPos + 4);
            tl.setAttribute("class", "y-label");
            tl.textContent = Math.round(val).toLocaleString("th-TH");
            g.appendChild(tl);
          }

          const axisX = document.createElementNS("http://www.w3.org/2000/svg", "line");
          axisX.setAttribute("x1", padX);
          axisX.setAttribute("x2", padX + innerW);
          axisX.setAttribute("y1", innerH);
          axisX.setAttribute("y2", innerH);
          axisX.setAttribute("class", "axis");
          g.appendChild(axisX);

          lotStats.forEach((d, i) => {
            const x0 = padX + i * band + groupPad / 2;
            const hTake = innerH - y(d.takers);
            const hApp = innerH - y(d.applicants);

            const bt = document.createElementNS("http://www.w3.org/2000/svg", "rect");
            bt.setAttribute("x", x0);
            bt.setAttribute("y", y(d.takers));
            bt.setAttribute("width", barW);
            bt.setAttribute("height", hTake);
            bt.setAttribute("rx", 4);
            bt.setAttribute("class", "bar-take");
            g.appendChild(bt);

            const ba = document.createElementNS("http://www.w3.org/2000/svg", "rect");
            ba.setAttribute("x", x0 + barW + 6);
            ba.setAttribute("y", y(d.applicants));
            ba.setAttribute("width", barW);
            ba.setAttribute("height", hApp);
            ba.setAttribute("rx", 4);
            ba.setAttribute("class", "bar-app");
            g.appendChild(ba);

            const tx = document.createElementNS("http://www.w3.org/2000/svg", "text");
            tx.setAttribute("x", x0 + barW + 3);
            tx.setAttribute("y", innerH + 20);
            tx.setAttribute("class", "x-label");
            tx.textContent = d.lot;
            g.appendChild(tx);

            const tx2 = document.createElementNS("http://www.w3.org/2000/svg", "text");
            tx2.setAttribute("x", x0 + barW + 3);
            tx2.setAttribute("y", innerH + 36);
            tx2.setAttribute("class", "x-label");
            tx2.textContent = `(${d.year})`;
            g.appendChild(tx2);
          });

          // Center the entire drawing horizontally inside the SVG
          const vb = svg.viewBox && svg.viewBox.baseVal;
          const svgW = (vb && vb.width) ? vb.width : (svg.clientWidth || 980);
          const bbox = g.getBBox(); // includes labels
          const dx = svgW / 2 - (bbox.x + bbox.width / 2);
          g.setAttribute("transform", `translate(${dx}, ${margin.top})`);
        }

        const ro = new ResizeObserver(() => requestAnimationFrame(draw));
        ro.observe(svg);
        if (document.fonts && document.fonts.ready) {
          document.fonts.ready.then(() => requestAnimationFrame(draw)).catch(() => {});
        }
        draw();
      })();
    </script>
  </body>
</html>

